[TOP](../README.md)   
前: [コミットの取消・打消](./reset-revert.md)  
次: [ブランチを切り替え忘れて開発を進めてしまった場合](./stash.md)  

---

# 3. 特定シチュエーションでの操作
## 3-5. .gitignoreと.gitkeep
開発作業には必要でも、Gitに登録したくないファイルは多々あると思います。例えば接続用の鍵ファイルや、大量に生成されるログファイル・一時ファイルなどがそれにあたります。このような場合はレポジトリのルートディレクトリに`.gitignore`というファイルを作成しGitに登録しておくことで、任意のファイルを登録対象から除外することができます。  
また、Gitは空のディレクトリを管理しません。例えばアプリケーションに必要なディレクトリを空にしていた場合、Gitには登録されていないため、ビルドが失敗する可能性があります。このような場合は、登録したいディレクトリに`.gitkeep`というファイルを作成しておくことで、空のディレクトリをGitの管理下におくことが慣習になっています。

1. 任意のディレクトリで`ターゲットリポジトリのクローンURL`を使いクローンしてください。
2. コンソールで新しいブランチ「3-5-ignore」を作成し、切り替えてください。
3. 現在のブランチを確認します。以下のようにブランチ「3-5-ignore」が選択されていることを確認してください。（他のブランチがリストされていても構いません）
```
* 3-5-ignore
master
```
4. レポジトリのルートディレクトリ配下にファイル「3-5.pem」・ディレクトリ「3-5-log」を作成し、ディレクトリ「3-5-log」配下にファイル「3-5-ignore.log」を作成してください。
5. インデックスの状態を確認し、手順4で作成したファイルが`Untracked files:`として表示されていることを確認してください。
6. レポジトリのルートディレクトリ配下にファイル「.gitignore」を以下の内容で作成してください。
```
*.pem
/3-5-log/*.log
```
7. インデックスの状態を確認し、手順4で作成したファイルが`Untracked files:`として表示されていないことを確認してください。（手順5で作成したファイル「.gitignore」は表示されます。）これにより手順3で作成したファイルはステージングももちろんコミットもされない状態になります。
8. 手順4と手順6で作成したファイル・ディレクトリを削除してください。
9. masterブランチに切り替え、ローカルブランチ「3-5-ignore」を削除してください。
10. 新しいブランチ「3-5-keep」を作成し、切り替えてください。
11. 現在のブランチを確認します。以下のようにブランチ「3-5-keep」が選択されていることを確認してください。（他のブランチがリストされていても構いません）
```
* 3-5-keep
master
```
12. レポジトリのルートディレクトリ配下にディレクトリ「3-5-necessary」を作成してください。
13. インデックスの状態を確認し、手順12で作成した空のディレクトリが`Untracked files:`として表示されていないことを確認してください。
14. ディレクトリ「3-5-necessary」配下にファイル「.gitkeep」を作成してください。
15. インデックスの状態を確認し、手順12で作成した空のディレクトリが`Untracked files:`として表示されていることを確認してください。これにより空のディレクトリをGitの管理下におくことができます。
16. 手順12と手順14で作成したファイル・ディレクトリを削除してください。
17. masterブランチに切り替え、ローカルブランチ「3-5-keep」を削除してください。

--- 

[TOP](../README.md)   
前: [コミットの取消・打消](./reset-revert.md)  
次: [ブランチを切り替え忘れて開発を進めてしまった場合](./stash.md)  